{% extends "items/base.html" %}

{% block title %}Our Items{% endblock title %}

{% block content %}
{% if items %}
{% include 'items/includes/currency-list.html' %}
<div class="d-flex justify-content-between">
    <div class="row row-cols-1 row-cols-md-2 g-4 m-2" style="max-width: 75%;">
        {% for item in items %}
        <div class="col" style="max-width: 20rem;">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ item.name }}</h5>
                    <small class="text-body-secondary">{{ item.currency }} {{ item.price }}</small>
                    <hr>
                    <button class="btn btn-secondary add-button">+ Add</button>
                    <a href="{% url 'item' item.id %}" class="btn btn-primary">Check!</a>
                    <input type="hidden" class="itemId" value="{{ item.id }}">
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% else %}
<h2 class="mt-3">No items yet...</h2>
{% endif %}

<script type="text/javascript">
    $('.add-button').click(addItemToOrder);

    $('body').on('change', '#currency', function() {
        let currency = $(this).val()

        window.location = "/?" + new URLSearchParams({
            currency: currency,
        }).toString();
    })

</script>
{% endblock content %}



